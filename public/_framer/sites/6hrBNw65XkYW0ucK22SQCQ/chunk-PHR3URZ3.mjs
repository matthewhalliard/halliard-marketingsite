import{B as w,J as M,U as H,X,ca as e,fa as Y,j as g,qa as Z,r as b,u as d,v as P}from"./chunk-WY5DO4CZ.mjs";var Ve=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Pe=/^https?:\/\/([^\/]+)[^\?]+\??(.+)$/,K=t=>Ve.test(String(t).toLowerCase()),Fe=t=>{var a;let[,c,C]=(a=t.replace("&amp;","&").match(Pe))!==null&&a!==void 0?a:[null,null,null];return[c,C?new URLSearchParams(C):null]};function Te(t){try{return!!new URL(t)}catch{}try{return!!new URL(`https://${t}`)}catch{}return!1}var J="v1",ee=Z(function({service:a,redirectAs:c,mailchimpURL:C,loopsID:te,loopsUserGroup:F,formsparkID:I,getwaitlistAPI:oe,input:s,button:o,font:ae,layout:ie,link:T,gap:le,style:re,onSubmit:i}){let[h,W]=b(""),[de,f]=b(!1),[v,p]=b(!1),[ne,j]=b(!1),{paddingPerSide:N,paddingTop:E,paddingRight:B,paddingBottom:se,paddingLeft:pe,padding:y,borderRadius:x,borderObject:A,focusObject:k,shadowObject:D,height:U,fixedHeight:_}=s,{buttonPaddingPerSide:ce,buttonPaddingTop:ue,buttonPaddingRight:he,buttonPaddingBottom:fe,buttonPaddingLeft:me,buttonPadding:$}=o,ye=N?`${E}px ${o.isDocked?B+o.widthWhenDocked:B}px ${se}px ${pe}px`:`${y}px ${o.isDocked?y+o.widthWhenDocked:y}px ${y}px ${y}px`,ge=ce?`${o.isDocked?0:ue}px ${he}px ${o.isDocked?0:fe}px ${me}px`:`${o.isDocked?0:$}px ${$}px ${o.isDocked?0:$}px ${$}px`,z=H(),V=()=>{if(p(!1),j(!1),W(""),c==="link"&&T&&!de){let[r,n]=T.split("#"),{routeId:l,pathVariables:u}=X(z.routes,r);if(l&&z.navigate(l,n,u),Te(T))return f(!0),m.start("error"),!1}},S=g(r=>r===""||!K(r)?(f(!0),m.start("error"),!1):!0,[K]),we=g(r=>{f(!1),W(r.target.value)},[]),Ce=g(r=>{j(!0)},[]),xe=g(r=>{j(!1),f(!1)},[]),Se=g(r=>{if(r.preventDefault(),!v){if(p(!0),a==="mailchimp"){let[n,l]=Fe(C);if(!S(h)||!n||!l){p(!1);return}l.set("MERGE0",h),fetch(`https://${n}/subscribe/post`,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:l.toString()}).then(u=>{V(),c==="overlay"&&i?.()}).catch(u=>{console.error(u),p(!1),f(!0),m.start("error")})}if(a==="loops"){if(!S(h)){p(!1);return}let n=`email=${encodeURIComponent(h)}`,l=`userGroup=${encodeURIComponent(F)}`,De=!!F&&F!==" "?n+"&"+l:n;fetch(`https://app.loops.so/api/newsletter-form/${te}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:De}).then(()=>{V(),c==="overlay"&&i?.()}).catch($e=>{console.error($e),p(!1),f(!0),m.start("error")})}if(a==="formspark"){if(!S(h)){p(!1);return}let n=new FormData(r.target),l=Object.fromEntries(n.entries());fetch(`https://submit-form.com/${I}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)}).then(()=>{V(),i?.()}).catch(u=>{console.error(u),p(!1),f(!0),m.start("error")})}if(a==="getwaitlist"){if(!S(h)){p(!1);return}let n=new FormData(r.target),l=Object.fromEntries(n.entries());l.referral_link=document.URL,fetch(`https://api.getwaitlist.com/api/v1
/waiter/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)}).then(()=>{V(),c==="overlay"&&i?.()}).catch(u=>{console.error(u),p(!1),f(!0),m.start("error")})}}},[C,I,h,i,S,v]),m=M(),G=s.focusObject?`inset 0 0 0 ${k.focusWidthFrom}px ${k.focusColor}`:null,be=s.focusObject?`inset 0 0 0 ${k.focusWidthTo}px ${k.focusColor}`:null,O=s.shadowObject?`${D.shadowX}px ${D.shadowY}px ${D.shadowBlur}px ${D.shadowColor}`:null,R=s.borderObject?`inset 0 0 0 ${A.borderWidth}px ${A.borderColor}`:null,ve={default:{x:0},error:{x:[0,-4,4,0],transition:{duration:.2}}},ke={default:{boxShadow:L(G,O,R)},focused:{boxShadow:L(be,O,R)}};return d(w.div,{style:{...re,...je,"--framer-custom-placeholder-color":s.placeholderColor},variants:ve,animate:m,children:P("form",{style:{width:"100%",height:"auto",display:"flex",position:"relative",flexDirection:ie==="vertical"?"column":"row",color:o.color,gap:o.isDocked?0:le},onSubmit:Se,method:"POST",children:[a==="getwaitlist"&&d("input",{type:"hidden",name:"api_key",value:oe}),d(w.input,{type:"email",name:"email",placeholder:s.placeholder,value:h,className:`${J} framer-custom-input`,onChange:we,onFocus:Ce,onBlur:xe,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",style:{...Q,padding:ye,borderRadius:x,fontSize:16,...ae,background:s.fill,height:U?"auto":_,color:s.color,boxShadow:L(G,O,R)},variants:ke,initial:!1,animate:ne?"focused":"default",transition:{duration:.3}}),!o.shouldAppear&&v&&d(q,{shouldAppear:o.shouldAppear,paddingPerSide:N,paddingTop:E,paddingRight:B,padding:y,color:s.color}),o.shouldAppear&&P("div",{style:{position:o.isDocked?"absolute":"relative",top:o.isDocked?o.insetWhenDocked:0,right:o.isDocked?o.insetWhenDocked:0,bottom:o.isDocked?o.insetWhenDocked:0},children:[d(w.input,{type:"submit",value:o.label,style:{...Q,width:o.isDocked?o.widthWhenDocked:"100%",height:U?"100%":_,cursor:"pointer",padding:ge,borderRadius:o.isDocked?x-o.insetWhenDocked:x,fontSize:16,...o.buttonFont,background:o.fill,color:o.color,zIndex:1,boxShadow:Be(o)}}),v&&d("div",{style:{borderRadius:o.isDocked?x-o.insetWhenDocked:x,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",inset:0,zIndex:2,color:o.color,background:o.fill},children:d(q,{color:o.color})})]})]})})},[`.${J}.framer-custom-input::placeholder { color: var(--framer-custom-placeholder-color) !important; }`]),q=t=>{let a=t.shouldAppear?{}:{position:"absolute",top:"calc(50% - 8px)",right:t.paddingPerSide?t.paddingRight:t.padding};return d(w.div,{style:{height:16,width:16,...a},initial:{rotate:0},animate:{rotate:360},transition:{duration:1,repeat:1/0},children:d(w.div,{initial:{scale:0},animate:{scale:1},children:P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:{fill:"currentColor",color:t.color},children:[d("path",{d:"M 8 0 C 3.582 0 0 3.582 0 8 C 0 12.419 3.582 16 8 16 C 12.418 16 16 12.419 16 8 C 15.999 3.582 12.418 0 8 0 Z M 8 14 C 4.687 14 2 11.314 2 8 C 2 4.687 4.687 2 8 2 C 11.314 2 14 4.687 14 8 C 14 11.314 11.314 14 8 14 Z",fill:"currentColor",opacity:"0.2"}),d("path",{d:"M 8 0 C 12.418 0 15.999 3.582 16 8 C 16 8 16 9 15 9 C 14 9 14 8 14 8 C 14 4.687 11.314 2 8 2 C 4.687 2 2 4.687 2 8 C 2 8 2 9 1 9 C 0 9 0 8 0 8 C 0 3.582 3.582 0 8 0 Z",fill:"currentColor"})]})})})};Y(ee,{service:{title:"Service",type:e.Enum,options:["loops","formspark","mailchimp","getwaitlist"],optionTitles:["Loops","FormSpark","MailChimp","Get Waitlist"],defaultValue:"loops"},mailchimpURL:{title:"URL",placeholder:"https://***.us6.list-manage.com/subscribe/post?u=***",type:e.String,hidden:t=>t.service!=="mailchimp"},loopsID:{title:"ID",placeholder:"klm2jxy0i98abzr01pq7defg5",type:e.String,hidden:t=>t.service!=="loops"},loopsUserGroup:{title:"User Group",type:e.String,placeholder:"Title",optional:!0,hidden:t=>t.service!=="loops"},formsparkID:{title:"ID",placeholder:"7PbPpGN3",type:e.String,hidden:t=>t.service!=="formspark"},getwaitlistAPI:{title:"ID",placeholder:"9148",type:e.String,hidden:t=>t.service!=="getwaitlist"},redirectAs:{title:"Success",type:e.Enum,options:["link","overlay"],optionTitles:["Open Link","Show Overlay"],defaultValue:"link"},link:{title:"Redirect",type:e.Link,hidden:t=>t.redirectAs==="overlay"},onSubmit:{title:"Submit",type:e.EventHandler,hidden:t=>t.redirectAs==="link"},layout:{title:"Layout",type:e.Enum,options:["horizontal","vertical"],displaySegmentedControl:!0,hidden:t=>t.button.isDocked},font:{type:e.Font,title:"Font",controls:"extended"},input:{title:"Input",type:e.Object,controls:{placeholder:{title:"Placeholder",type:e.String,defaultValue:"name@email.com"},placeholderColor:{title:" ",type:e.Color,defaultValue:"rgba(0, 0, 0, 0.3)"},fill:{title:"Fill",type:e.Color,defaultValue:"#EBEBEB"},color:{title:"Text",type:e.Color,defaultValue:"#000"},height:{title:"Height",type:e.Boolean,enabledTitle:"Auto",disabledTitle:"Fixed"},fixedHeight:{title:" ",type:e.Number,displayStepper:!0,min:0,defaultValue:50,hidden:t=>t.height},padding:{title:"Padding",type:e.FusedNumber,toggleKey:"paddingPerSide",toggleTitles:["Padding","Padding per side"],defaultValue:15,valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["T","R","B","L"],min:0},borderRadius:{title:"Radius",type:e.Number,displayStepper:!0,min:0,defaultValue:8},focusObject:{type:e.Object,title:"Focus",optional:!0,controls:{focusWidthFrom:{title:"From",type:e.Number,displayStepper:!0,defaultValue:0},focusWidthTo:{title:"To",type:e.Number,displayStepper:!0,defaultValue:2},focusColor:{title:"Color",type:e.Color,defaultValue:"#09F"}}},borderObject:{type:e.Object,title:"Border",optional:!0,controls:{borderWidth:{title:"Width",type:e.Number,displayStepper:!0,defaultValue:1},borderColor:{title:"Color",type:e.Color,defaultValue:"rgba(200,200,200,0.5)"}}},shadowObject:{type:e.Object,title:"Shadow",optional:!0,controls:{shadowColor:{title:"Color",type:e.Color,defaultValue:"rgba(0,0,0,0.25)"},shadowX:{title:"Shadow X",type:e.Number,min:-100,max:100,defaultValue:0},shadowY:{title:"Shadow Y",type:e.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:"Shadow B",type:e.Number,min:0,max:100,defaultValue:4}}}}},button:{title:"Button",type:e.Object,controls:{shouldAppear:{title:"Show",type:e.Boolean,defaultValue:!0},label:{title:"Label",type:e.String,defaultValue:"Subscribe"},buttonFont:{type:e.Font,title:"Font",controls:"extended"},fill:{title:"Fill",type:e.Color,defaultValue:"#333"},color:{title:"Text",type:e.Color,defaultValue:"#FFF"},isDocked:{title:"Docked",type:e.Boolean,defaultValue:!1},widthWhenDocked:{title:"Width",type:e.Number,min:0,defaultValue:100,displayStepper:!0,hidden:t=>!t.isDocked},insetWhenDocked:{title:"Inset",type:e.Number,min:0,defaultValue:5,displayStepper:!0,hidden:t=>!t.isDocked},buttonPadding:{title:"Padding",type:e.FusedNumber,toggleKey:"buttonPaddingPerSide",toggleTitles:["Padding","Padding per side"],defaultValue:15,valueKeys:["buttonPaddingTop","buttonPaddingRight","buttonPaddingBottom","buttonPaddingLeft"],valueLabels:["T","R","B","L"],min:0},buttonShadow:{type:e.Object,title:"Shadow",optional:!0,controls:{shadowColor:{title:"Color",type:e.Color,defaultValue:"rgba(0,0,0,0.25)"},shadowX:{title:"Shadow X",type:e.Number,min:-100,max:100,defaultValue:0},shadowY:{title:"Shadow Y",type:e.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:"Shadow B",type:e.Number,min:0,max:100,defaultValue:4}}}}},gap:{title:"Gap",type:e.Number,displayStepper:!0,min:0,defaultValue:10,hidden:t=>t.button.isDocked}});var Q={WebkitAppearance:"none",appearance:"none",width:"100%",height:"auto",outline:"none",border:"none"},je={position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"};function Be(t){return t.buttonShadow?`${t.buttonShadow.shadowX}px ${t.buttonShadow.shadowY}px ${t.buttonShadow.shadowBlur}px ${t.buttonShadow.shadowColor}`:"none"}function L(...t){let a=[];return t.forEach(c=>c&&a.push(c)),a.join(", ")}var Ae=ee;export{Ae as a};
//# sourceMappingURL=chunk-PHR3URZ3.mjs.map
